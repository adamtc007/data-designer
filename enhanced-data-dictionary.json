{
  "metadata": {
    "version": "2.0.0",
    "lastModified": "2025-10-08T12:00:00Z",
    "description": "Enhanced data dictionary with business vs derived attribute classification"
  },
  "entities": {
    "Client": {
      "description": "Client entity for KYC and onboarding",
      "attributes": [
        {
          "name": "client_id",
          "type": "String",
          "attributeType": "business",
          "description": "Unique client identifier",
          "sqlType": "VARCHAR(50) PRIMARY KEY",
          "rustType": "String",
          "formatMask": "XXX-999",
          "pattern": "^[A-Z]{3}-\\d{3,}$",
          "required": true,
          "editable": true,
          "source": "client_provided"
        },
        {
          "name": "legal_entity_name",
          "type": "String",
          "attributeType": "business",
          "description": "Legal name of the entity",
          "sqlType": "VARCHAR(255) NOT NULL",
          "rustType": "String",
          "required": true,
          "editable": true,
          "source": "client_provided"
        },
        {
          "name": "lei_code",
          "type": "String",
          "attributeType": "business",
          "description": "Legal Entity Identifier",
          "sqlType": "CHAR(20)",
          "rustType": "String",
          "formatMask": "XXXXXXXXXXXXXXXXXXXX",
          "pattern": "^[A-Z0-9]{20}$",
          "required": false,
          "editable": true,
          "source": "client_provided"
        },
        {
          "name": "email",
          "type": "String",
          "attributeType": "business",
          "description": "Primary contact email",
          "sqlType": "VARCHAR(255) NOT NULL",
          "rustType": "String",
          "formatMask": "xxx@xxx.xxx",
          "pattern": "^[\\w.-]+@[\\w.-]+\\.\\w+$",
          "required": true,
          "editable": true,
          "source": "client_provided"
        },
        {
          "name": "country_code",
          "type": "String",
          "attributeType": "business",
          "description": "ISO country code",
          "sqlType": "CHAR(2)",
          "rustType": "String",
          "pattern": "^[A-Z]{2}$",
          "required": true,
          "editable": true,
          "source": "client_provided"
        },
        {
          "name": "risk_rating",
          "type": "Enum",
          "attributeType": "business",
          "description": "Risk classification",
          "sqlType": "ENUM('LOW','MEDIUM','HIGH')",
          "rustType": "RiskLevel",
          "domain": "RiskLevel",
          "required": true,
          "editable": true,
          "source": "internal_assessment"
        },
        {
          "name": "aum_usd",
          "type": "Number",
          "attributeType": "business",
          "description": "Assets Under Management in USD",
          "sqlType": "DECIMAL(18,2)",
          "rustType": "rust_decimal::Decimal",
          "formatMask": "$999,999,999,999.99",
          "min": 0,
          "max": 999999999999999.99,
          "required": false,
          "editable": true,
          "source": "client_provided"
        },
        {
          "name": "kyc_status",
          "type": "Enum",
          "attributeType": "business",
          "description": "Current KYC status",
          "sqlType": "ENUM('PENDING','APPROVED','REJECTED') NOT NULL",
          "rustType": "KycStatus",
          "domain": "KycStatus",
          "required": true,
          "editable": false,
          "source": "system_managed"
        },
        {
          "name": "pep_status",
          "type": "Boolean",
          "attributeType": "business",
          "description": "Politically Exposed Person status",
          "sqlType": "BOOLEAN NOT NULL DEFAULT FALSE",
          "rustType": "bool",
          "required": true,
          "editable": true,
          "source": "screening_result"
        },
        {
          "name": "risk_score",
          "type": "Number",
          "attributeType": "derived",
          "description": "Calculated risk score",
          "sqlType": "INTEGER",
          "rustType": "i32",
          "min": 0,
          "max": 100,
          "derivedFrom": "RULE_001",
          "dependencies": ["risk_rating", "pep_status", "aum_usd"],
          "editable": false,
          "source": "rule_calculated"
        },
        {
          "name": "email_valid",
          "type": "Boolean",
          "attributeType": "derived",
          "description": "Email validation result",
          "sqlType": "BOOLEAN",
          "rustType": "bool",
          "derivedFrom": "RULE_002",
          "dependencies": ["email"],
          "editable": false,
          "source": "rule_calculated"
        },
        {
          "name": "kyc_completion_percentage",
          "type": "Number",
          "attributeType": "derived",
          "description": "KYC completion percentage",
          "sqlType": "INTEGER",
          "rustType": "i32",
          "min": 0,
          "max": 100,
          "derivedFrom": "RULE_003",
          "dependencies": ["client_id", "legal_entity_name", "lei_code", "email", "country_code"],
          "editable": false,
          "source": "rule_calculated"
        },
        {
          "name": "enhanced_dd_required",
          "type": "Boolean",
          "attributeType": "derived",
          "description": "Enhanced due diligence requirement flag",
          "sqlType": "BOOLEAN",
          "rustType": "bool",
          "derivedFrom": "RULE_004",
          "dependencies": ["risk_rating", "pep_status", "aum_usd", "country_code"],
          "editable": false,
          "source": "rule_calculated"
        },
        {
          "name": "service_tier",
          "type": "Enum",
          "attributeType": "derived",
          "description": "Client service tier classification",
          "sqlType": "ENUM('BRONZE','SILVER','GOLD','PLATINUM')",
          "rustType": "ServiceTier",
          "domain": "ServiceTier",
          "derivedFrom": "RULE_005",
          "dependencies": ["aum_usd"],
          "editable": false,
          "source": "rule_calculated"
        }
      ]
    }
  },
  "domains": {
    "RiskLevel": {
      "values": ["LOW", "MEDIUM", "HIGH"],
      "description": "Risk classification levels"
    },
    "KycStatus": {
      "values": ["PENDING", "APPROVED", "REJECTED"],
      "description": "KYC approval status"
    },
    "ServiceTier": {
      "values": ["BRONZE", "SILVER", "GOLD", "PLATINUM"],
      "description": "Client service tier levels"
    }
  },
  "attributeSources": {
    "client_provided": {
      "description": "Data provided directly by the client",
      "trustLevel": "medium",
      "requiresValidation": true
    },
    "internal_assessment": {
      "description": "Data from internal risk assessment",
      "trustLevel": "high",
      "requiresValidation": false
    },
    "system_managed": {
      "description": "Data managed by the system",
      "trustLevel": "high",
      "requiresValidation": false
    },
    "screening_result": {
      "description": "Data from external screening services",
      "trustLevel": "high",
      "requiresValidation": false
    },
    "rule_calculated": {
      "description": "Data derived from business rules",
      "trustLevel": "high",
      "requiresValidation": false
    }
  }
}