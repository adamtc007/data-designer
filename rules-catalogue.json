{
  "metadata": {
    "version": "1.0.0",
    "lastModified": "2025-10-08T12:00:00Z",
    "description": "Rules catalogue for DSL data transformation and KYC validation"
  },
  "rules": [
    {
      "ruleId": "RULE_001",
      "ruleName": "Calculate Risk Score",
      "description": "Calculate overall risk score based on client risk rating, PEP status, and AUM",
      "targetAttribute": "Client.risk_score",
      "sourceAttributes": [
        "Client.risk_rating",
        "Client.pep_status",
        "Client.aum_usd"
      ],
      "ruleDefinition": "risk_score = 0\n\nIF Client.risk_rating == \"HIGH\" THEN\n    risk_score = risk_score + 50\nELSE IF Client.risk_rating == \"MEDIUM\" THEN\n    risk_score = risk_score + 25\nELSE\n    risk_score = risk_score + 10\nEND\n\nIF Client.pep_status == true THEN\n    risk_score = risk_score + 30\nEND\n\nIF Client.aum_usd > 10000000 THEN\n    risk_score = risk_score + 20\nEND",
      "category": "risk_assessment",
      "status": "active",
      "createdDate": "2025-10-08",
      "modifiedDate": "2025-10-08",
      "version": "1.0"
    },
    {
      "ruleId": "RULE_002",
      "ruleName": "Validate Email Format",
      "description": "Validate client email address format",
      "targetAttribute": "Client.email_valid",
      "sourceAttributes": [
        "Client.email"
      ],
      "ruleDefinition": "email_valid = IS_EMAIL(Client.email)",
      "category": "validation",
      "status": "active",
      "createdDate": "2025-10-08",
      "modifiedDate": "2025-10-08",
      "version": "1.0"
    },
    {
      "ruleId": "RULE_003",
      "ruleName": "KYC Completion Status",
      "description": "Determine KYC completion percentage based on required fields",
      "targetAttribute": "Client.kyc_completion_percentage",
      "sourceAttributes": [
        "Client.client_id",
        "Client.legal_entity_name",
        "Client.lei_code",
        "Client.email",
        "Client.country_code"
      ],
      "ruleDefinition": "completion_count = 0\n\nIF Client.client_id != \"\" THEN\n    completion_count = completion_count + 20\nEND\n\nIF Client.legal_entity_name != \"\" THEN\n    completion_count = completion_count + 20\nEND\n\nIF Client.lei_code != \"\" THEN\n    completion_count = completion_count + 20\nEND\n\nIF Client.email != \"\" AND IS_EMAIL(Client.email) THEN\n    completion_count = completion_count + 20\nEND\n\nIF Client.country_code != \"\" THEN\n    completion_count = completion_count + 20\nEND\n\nkyc_completion_percentage = completion_count",
      "category": "kyc_validation",
      "status": "active",
      "createdDate": "2025-10-08",
      "modifiedDate": "2025-10-08",
      "version": "1.0"
    },
    {
      "ruleId": "RULE_004",
      "ruleName": "Enhanced Due Diligence Flag",
      "description": "Determine if enhanced due diligence is required",
      "targetAttribute": "Client.enhanced_dd_required",
      "sourceAttributes": [
        "Client.risk_rating",
        "Client.pep_status",
        "Client.aum_usd",
        "Client.country_code"
      ],
      "ruleDefinition": "enhanced_dd_required = false\n\nIF Client.risk_rating == \"HIGH\" THEN\n    enhanced_dd_required = true\nEND\n\nIF Client.pep_status == true THEN\n    enhanced_dd_required = true\nEND\n\nIF Client.aum_usd > 50000000 THEN\n    enhanced_dd_required = true\nEND\n\n# High-risk jurisdictions\nIF Client.country_code IN [\"XX\", \"YY\", \"ZZ\"] THEN\n    enhanced_dd_required = true\nEND",
      "category": "compliance",
      "status": "active",
      "createdDate": "2025-10-08",
      "modifiedDate": "2025-10-08",
      "version": "1.0"
    },
    {
      "ruleId": "RULE_005",
      "ruleName": "Client Tier Classification",
      "description": "Classify client into service tiers based on AUM",
      "targetAttribute": "Client.service_tier",
      "sourceAttributes": [
        "Client.aum_usd"
      ],
      "ruleDefinition": "service_tier = \n    IF Client.aum_usd >= 100000000 THEN \"PLATINUM\"\n    ELSE IF Client.aum_usd >= 50000000 THEN \"GOLD\"\n    ELSE IF Client.aum_usd >= 10000000 THEN \"SILVER\"\n    ELSE \"BRONZE\"",
      "category": "classification",
      "status": "active",
      "createdDate": "2025-10-08",
      "modifiedDate": "2025-10-08",
      "version": "1.0"
    }
  ],
  "categories": {
    "risk_assessment": {
      "name": "Risk Assessment",
      "description": "Rules for calculating risk scores and metrics"
    },
    "validation": {
      "name": "Data Validation",
      "description": "Rules for validating data formats and constraints"
    },
    "kyc_validation": {
      "name": "KYC Validation",
      "description": "Rules for KYC completeness and compliance"
    },
    "compliance": {
      "name": "Compliance",
      "description": "Rules for regulatory compliance checks"
    },
    "classification": {
      "name": "Classification",
      "description": "Rules for categorizing and tiering clients"
    }
  }
}